{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./resources/webview.js"],"names":["local","server","selection","type","shape","isSpiral","pathID","startID","endID","parentID","theme","start_val","x","y","w","h","deg","worldDeg","end_val","loops","points","timing","smooth","power","clockwise","squeeze","mirror","auto","hasFocus","update","elements","Math","decimal","num","precision","round","pow","degrees","document","addEventListener","e","preventDefault","window","internalResponse","requestedData","console","log","say","getElementById","followLink","style","display","setAttribute","targetUrl","target","parentElement","getAttribute","getSelection","requestUpdateInfo","then","data","JSON","parse","action","innerHTML","info","image","image_dark","link","catch","error","url","postMessage","Promise","resolve","reject","fetch","response","text","result","allOff","stringify","allOn","spiralise","body","keyCode","settings","disabled","message","handleSelection","setSelection","value","checked","switchStart","setTypeText","classList","add","remove","d","objType","txt","col","color","i","length","indexOf","opacity","parent","contains","backgroundColor","newVal","abs","parseFloat","isNaN","className","f"],"mappings":"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","file":"resources_webview.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./resources/webview.js\");\n","// Settings\nconst local = false;\nconst server = 'https://www.design-dude.nl/apps/ddSpiral/';\n\nvar selection = {\n\ttype: 4,\n\tshape: '',\n\tisSpiral: false,\n\tpathID: '',\n\tstartID: '',\n\tendID: '',\n\tparentID: '',\n\ttheme: ''\n}\nvar start_val = {\n\tx:0,\n\ty:0,\n\tw:0,\n\th:0,\n\tdeg:0,\n\tworldDeg: 0\n}\nvar end_val = {\n\tx:0,\n\ty:0,\n\tw:0,\n\th:0,\n\tdeg:0,\n\tworldDeg: 0\n}\nvar loops = 10;\nvar points = 4;\nvar timing = 'linear';\nvar smooth = 100;\nvar power = 30;\nvar clockwise = true;\nvar squeeze = false;\nvar mirror = false;\nvar auto = false;\n\nvar hasFocus = false;\nvar update = false;\n\nconst elements = ['start_width','start_height','start_rotation','end_width','end_height','end_rotation','loops','points','timing','smooth','power','squeeze','clockwise', 'mirror', 'auto'];\n\n// Math extension\nMath.decimal = function (num, precision = 0) {\n\treturn Math.round(num * (Math.pow(10, precision))) / Math.pow(10, precision);\n};\nMath.degrees = function (deg) {\n\treturn (deg + 360) % 360;\n};\n\n// Disable the context menu\ndocument.addEventListener('contextmenu', (e) => {\n\t// Disable for testing in Sketch\n\t// You start the inspector from the webview's context menu\n\tif(!local) e.preventDefault()\n})\n\n// Default receiver from plugin\nwindow.internalResponse = (requestedData) => {\n\tconsole.log('requestedData', requestedData);\n};\n\n// Page loaded\nwindow.addEventListener(\"load\", () => {\n\tsay(\"Loading...\", \"#FF5B02\");\n\t// Link to readme\n\tdocument.getElementById(\"github\").addEventListener(\"click\", e => {\n\t\tfollowLink(\"https://github.com/Design-Dude/ddSpiral\");\n\t});\n\t// Link to info from footer\n\tdocument.getElementById(\"coffeelink\").style.display = \"none\";\n\tdocument.getElementById(\"coffeelink\").setAttribute('goto', 'https://buymeacoffee.com/mastermek');\n\tdocument.getElementById(\"coffeelink\").addEventListener(\"click\", e => {\n\t\tlet targetUrl = e.target.parentElement.getAttribute('goto');\n\t\tfollowLink(targetUrl);\n\t});\n\t// Get selection from plugin\n\tgetSelection();\n\t\n\t// Get info from server for footer info\n\trequestUpdateInfo(server + 'info.php')\n\t.then(data => {\n\t\tdata = JSON.parse(data);\n\t\tif(data && (data.action == 'update' || data.action == 'info')) {\n\t\t\tdocument.getElementById(\"bmac\").innerHTML = data[0].info;\n\t\t\tdocument.getElementById(\"bmacimg\").setAttribute('src', server + data[0].image);\n\t\t\tdocument.getElementById(\"bmacimgdark\").setAttribute('src', server + data[0].image_dark);\n\t\t\tdocument.getElementById(\"coffeelink\").setAttribute('goto', data[0].link);\n\t\t}\n\t\tdocument.getElementById(\"coffeelink\").style.display = \"flex\";\n\t})\n\t.catch((error) => {\n\t\tdocument.getElementById(\"coffeelink\").style.display = \"flex\";\n\t})\n\t\n});\n\n// Open link from webview\nfunction followLink(url) {\n\tif(local) {\n\t\tconsole.log('followLink', url);\n\t} else {\n\t\twindow.postMessage('followLink', url);\n\t}\n}\n\nconst requestUpdateInfo = (url) => {\n\treturn new Promise((resolve, reject) => {\n\t\tif(!url || url == '') {\n\t\t\treject('No url provided')\n\t\t} else {\n\t\t\tfetch(url)\n\t\t\t.then((response) => {\n\t\t\t\tresolve(response.text())\n\t\t\t})\n\t\t\t.then((result) => {\n\t\t\t\tresolve(result ? JSON.parse(result) : {})\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\treject(error);\n\t\t\t})\n\t\t}\n\t})\n}\n\n// On plugin blur\nwindow.addEventListener(\"blur\", e => {\n\thasFocus = false;\n\tallOff();\n});\n\n// On plugin focus\nwindow.addEventListener(\"focus\", e => {\n\thasFocus = true;\n\tif(!local) {\n\t\twindow.postMessage('internalRequest', JSON.stringify({\n\t\t\taction: \"getSelection\"\n\t\t}));\n\t}\n\tallOn();\n});\n\n// Send\ndocument.getElementById(\"button\").addEventListener(\"click\", e => {\n\te.preventDefault();\n\tspiralise();\n});\n\n//\tAdd ENTER key shortcut\ndocument.body.addEventListener(\"keyup\", e => {\n\tif(e.keyCode !== 13) return;\n\tspiralise();\n});\n\n// Tell plugin to draw spiral\nfunction spiralise() {\n\t// Next submit will be an update\n\tdocument.getElementById(\"button\").innerHTML = \"Update\";\n\tupdate = true;\n\t// Set world rotation back to local\n\tstart_val.deg = Math.degrees( start_val.deg - start_val.worldDeg );\n\tend_val.deg = Math.degrees( end_val.deg - end_val.worldDeg );\n\t// Collect settings\n\tlet settings = {\n\t\tloops: loops,\n\t\tpoints: points,\n\t\tsmooth: smooth,\n\t\ttiming: timing,\n\t\tpower: power,\n\t\tsqueeze: document.getElementById('squeeze').disabled == false && squeeze ? true : false,\n\t\tmirror: document.getElementById('mirror').disabled == false && mirror ? true : false,\n\t\tclockwise: clockwise,\n\t\tauto: auto,\n\t\ttype: selection.type,\n\t\tpathID: selection.pathID,\n\t\tstartID: selection.startID,\n\t\tendID: selection.endID,\n\t\tparentID: selection.parentID\n\t}\n\t// Create message\n\tvar message = { start_val, end_val, settings, action: \"spiralise\" };\n\t//console.log(JSON.stringify(message));\n\tif(!local) {\n\t\t// Send message to plugin\n\t\twindow.postMessage('internalRequest', JSON.stringify(message));\n\t} else {\n\t\tallOn();\n\t}\n\t// Reset world rotation for next update\n\tstart_val.deg = Math.degrees( start_val.deg + start_val.worldDeg );\n\tend_val.deg = Math.degrees( end_val.deg + end_val.worldDeg );\n}\n\n// Ask plugin for selected objects\nfunction getSelection() {\n\tif(local) { // local test data\n\t\thandleSelection({\n\t\t\tselection: {\n\t\t\t\ttype: 2,\n\t\t\t\tshape: '',\n\t\t\t\tisSpiral: true,\n\t\t\t\ttheme: '',\n\t\t\t\tstartID: '',\n\t\t\t\tendID: '',\n\t\t\t\tpathID: '',\n\t\t\t\tparentID: ''\n\t\t\t},\n\t\t\tstart_val: {\n\t\t\t\tx:0,\n\t\t\t\ty:0,\n\t\t\t\tw:51,\n\t\t\t\th:52,\n\t\t\t\tdeg:0,\n\t\t\t\tworldDeg: 0\n\t\t\t},\n\t\t\tend_val: {\n\t\t\t\tx:0,\n\t\t\t\ty:0,\n\t\t\t\tw:50,\n\t\t\t\th:50,\n\t\t\t\tdeg:0,\n\t\t\t\tworldDeg: 0\n\t\t\t}\n\t\t});\n\t} else {\n\t\twindow.postMessage('internalRequest', JSON.stringify({\n\t\t\taction: \"getSelection\"\n\t\t}));\n\t}\n}\n\n// Set form info with selection info from plugin\nwindow.setSelection = (requestedData) => {\n\thandleSelection(requestedData);\n}\n\n// Handle selection response\nfunction handleSelection(response) {\n\n\tdocument.getElementById(\"button\").innerHTML = \"Spiralise!\";\n\tupdate = false;\n\n\tselection = response.selection;\n\tstart_val = response.start_val;\n\tend_val = response.end_val;\n\tloops = selection.loops != 'undefined' && selection.loops ? selection.loops : loops;\n\tdocument.getElementById('loops').value = loops;\n\tpoints = selection.points != 'undefined' && selection.points ? selection.points : points;\n\tdocument.getElementById('points').value = points;\n\tsmooth = selection.smooth != 'undefined' && selection.smooth ? selection.smooth : smooth;\n\tdocument.getElementById('smooth').value = smooth;\n\ttiming = selection.timing != 'undefined' && selection.timing ? selection.timing : timing;\n\tdocument.getElementById('timing').value = timing;\n\tpower = selection.power != 'undefined' && selection.power ? selection.power : power;\n\tdocument.getElementById('power').value = power;\n\tsqueeze = selection.squeeze != 'undefined' ? selection.squeeze : squeeze;\n\tif(squeeze && (selection.type == 1 || selection.type > 3)) squeeze = false;\n\tif(selection.type == 2 && !squeeze) selection.type = 3;\n\tdocument.getElementById('squeeze').checked = squeeze;\n\tmirror = selection.mirror != 'undefined' ? selection.mirror : mirror;\n\tdocument.getElementById('mirror').checked = mirror;\n\tclockwise = selection.clockwise != 'undefined' ? selection.clockwise : clockwise;\n\tdocument.getElementById('clockwise').checked = clockwise;\n\tauto = selection.auto != 'undefined' ? selection.auto : auto;\n\tdocument.getElementById('auto').checked = auto;\n\tif(selection.type == 4 && mirror) {\n\t\tswitchStart();\n\t}\n\t// Use world rotation (easier for user - wysiwyg)\n\tstart_val.deg = Math.degrees( start_val.deg + start_val.worldDeg );\n\tend_val.deg = Math.degrees( end_val.deg + end_val.worldDeg );\n\t// Fill form\n\tdocument.getElementById('start_width').value = Math.decimal(start_val.w, 2);\n\tdocument.getElementById('start_height').value = Math.decimal(start_val.h, 2);\n\tdocument.getElementById('start_rotation').value = Math.decimal(start_val.deg, 2);\n\tdocument.getElementById('end_width').value = Math.decimal(end_val.w, 2);\n\tdocument.getElementById('end_height').value = Math.decimal(end_val.h, 2);\n\tdocument.getElementById('end_rotation').value = Math.decimal(end_val.deg, 2);\n\t// Update user info text\n\tsetTypeText();\n\t// Set theme\n\tsettings.theme = selection.theme;\n\tif(settings.theme === 'dark') {\n\t\tdocument.body.classList.add(\"dark\");\n\t} else {\n\t\tdocument.body.classList.remove(\"dark\");\n\t}\n\t// Focus\n\tif(hasFocus && selection.type) {\n\t\tallOn();\n\t} else {\n\t\tallOff();\n\t}\n}\n\n// Switch start & end\nfunction switchStart() {\n\tlet w = start_val.w;\n\tlet h = start_val.h;\n\tlet d = start_val.deg;\n\tstart_val.w = end_val.w;\n\tstart_val.h = end_val.h;\n\tstart_val.deg = end_val.deg;\n\tend_val.w = w;\n\tend_val.h = h;\n\tend_val.deg = d;\n}\n\n// Spiral types and user info's\nfunction setTypeText() {\n\t// object count\n\t// no of shapes\n\t// no of objects\n\t// no of open paths\n\t// squeeze: count=1 shape=1 class!=rect\n\tlet objType = selection.isSpiral ? 'spiral!' : 'line';\n\tswitch(selection.type) {\n\tcase 1:\n\t\t// single object, not a shape\n\t\tsay('Wind <span>around the center</span> of that object', settings.theme === 'dark' ? '#DFDFDF' : 'black');\n\t\tbreak;\n\tcase 2:\n\t\t// single shape, squeeze\n\t\tsay('Force <span>inside</span> that '+selection.shape, settings.theme === 'dark' ? '#DFDFDF' : 'black');\n\t\tbreak;\n\tcase 3:\n\t\t// single shape, no squeeze\n\t\tsay('Bend <span>around the center</span> of that '+selection.shape, settings.theme === 'dark' ? '#DFDFDF' : 'black');\n\t\tbreak;\n\tcase 4:\n\t\t// zero or single object + open path (center ease allowed)\n\t\tsay('Twist <span>around</span> that ' + objType, settings.theme === 'dark' ? '#DFDFDF' : 'black');\n\t\tbreak;\n\tcase 5:\n\t\t// two objects, no open path\n\t\tsay('Stretch <span>between</span> those objects', settings.theme === 'dark' ? '#DFDFDF' : 'black');\n\t\tbreak;\n\tcase 6:\n\t\t// open path=1, object+shape=>1\n\t\tsay('Curve <span>along the route</span> of that ' + objType, settings.theme === 'dark' ? '#DFDFDF' : 'black');\n\t\tbreak;\n\tdefault:\n\t\tsay('<span>Select a maximum of 2 objects and/or 1 open path!</span>', '#FF5B02');\n\t\tallOff();\n\t} \n}\n\n// Inform user\nfunction say(txt, col) {\n\tdocument.getElementById('info').innerHTML = txt;\n\tdocument.getElementById('info').style.color = col;\n}\n\n// Disable all form elements\nfunction allOff() {\n\tfor(let i=0; i<elements.length; i++) {\n\t\tdocument.getElementById(elements[i]).setAttribute('disabled', '');\n\t\tif(!selection.type || ((squeeze && (elements[i].indexOf('start') > -1 || elements[i].indexOf('end') > -1)) || ((selection.type < 2 || selection.type > 3) && elements[i] == 'squeeze'))) {\n\t\t\tdocument.getElementById(elements[i]).style.opacity = elements[i] == 'squeeze' || elements[i] == 'clockwise' || elements[i] == 'mirror' || elements[i] == 'auto' ? 0.5 : 0;\n\t\t} else {\n\t\t\tdocument.getElementById(elements[i]).style.opacity = elements[i] == 'squeeze' || elements[i] == 'clockwise' || elements[i] == 'mirror' || elements[i] == 'auto' ? 0.5 : 0.3;\n\t\t}\n\t\tlet parent = document.getElementById(elements[i]).parentElement;\n\t\tif(parent.classList.contains('textfield')) {\n\t\t\tparent.setAttribute('disabled', 'disabled');\n\t\t\tparent.style.backgroundColor = settings.theme === 'dark' ? '#282828' : '#F6F6F6';\n\t\t}\n\t}\n\tdocument.getElementById('link_start').setAttribute('disabled', 'disabled');\n\tdocument.getElementById('link_start').style.opacity = 0.3;\n\tdocument.getElementById('link_end').setAttribute('disabled', 'disabled');\n\tdocument.getElementById('link_end').style.opacity = 0.3;\n\tdocument.getElementById('button').setAttribute('disabled', 'disabled');\n\tdocument.getElementById('button').style.opacity = 0.3;\n\tdocument.getElementById('squeeze_text').style.opacity = 0.2;\n\tdocument.getElementById('clockwise_text').style.opacity = 0.2;\n\tdocument.getElementById('mirror_text').style.opacity = 0.2;\n\tdocument.getElementById('auto_text').style.opacity = 0.2;\n}\n\n// Enable all active form elements\nfunction allOn() {\n\tvar squeeze = document.getElementById('squeeze').checked;\n\tdocument.getElementById('mirror_text').style.opacity = 1;\n\tfor(let i=0; i<elements.length; i++) {\n\t\tif(elements[i] == 'power' && timing == 'linear') {\n\t\t\tdocument.getElementById(elements[i]).setAttribute('disabled', '');\n\t\t\tdocument.getElementById(elements[i]).style.opacity = 0;\n\t\t\tlet parent = document.getElementById(elements[i]).parentElement;\n\t\t\tif(parent.classList.contains('textfield')) {\n\t\t\t\tparent.setAttribute('disabled', 'disabled');\n\t\t\t\tparent.style.backgroundColor = settings.theme === 'dark' ? '#282828' : '#F6F6F6';\n\t\t\t}\n\t\t\t\n\t\t} else if(elements[i] == 'mirror' && selection.type != 4) {\n\t\t\tdocument.getElementById(elements[i]).disabled = true;\n\t\t\tdocument.getElementById('mirror_text').style.opacity = 0.2;\n\t\t} else if((squeeze && (elements[i].indexOf('start') > -1 || elements[i].indexOf('end') > -1)) || ((selection.type < 2 || selection.type > 3) && elements[i] == 'squeeze')) {\n\t\t\tdocument.getElementById(elements[i]).setAttribute('disabled', '');\n\t\t\tdocument.getElementById(elements[i]).style.opacity = elements[i] == 'squeeze' || elements[i] == 'clockwise' ? 0.5 : 0;\n\t\t\tlet parent = document.getElementById(elements[i]).parentElement;\n\t\t\tif(parent.classList.contains('textfield')) {\n\t\t\t\tparent.setAttribute('disabled', 'disabled');\n\t\t\t\tparent.style.backgroundColor = settings.theme === 'dark' ? '#282828' : '#F6F6F6';\n\t\t\t}\n\t\t} else {\n\t\t\tdocument.getElementById(elements[i]).disabled = false;\n\t\t\tdocument.getElementById(elements[i]).style.opacity = 1;\n\t\t\tlet parent = document.getElementById(elements[i]).parentElement;\n\t\t\tif(parent.classList.contains('textfield')) {\n\t\t\t\tparent.setAttribute('disabled', '');\n\t\t\t\tparent.style.backgroundColor = settings.theme === 'dark' ? '#2E2E2E' : '#EDEDED';\n\t\t\t}\n\t\t}\n\t}\n\tif(squeeze) {\n\t\tdocument.getElementById('link_start').setAttribute('disabled', 'disabled');\n\t\tdocument.getElementById('link_start').style.opacity = 0.3;\n\t\tdocument.getElementById('link_end').setAttribute('disabled', 'disabled');\n\t\tdocument.getElementById('link_end').style.opacity = 0.3;\n\t} else {\n\t\tdocument.getElementById('link_start').setAttribute('disabled', '');\n\t\tdocument.getElementById('link_start').style.opacity = 1;\n\t\tdocument.getElementById('link_end').setAttribute('disabled', '');\n\t\tdocument.getElementById('link_end').style.opacity = 1;\n\t}\n\tif(auto && update) {\n\t\tdocument.getElementById('button').setAttribute('disabled', 'disabled');\n\t\tdocument.getElementById('button').style.opacity = 0.3;\n\t} else {\n\t\tdocument.getElementById('button').disabled = false;\n\t\tdocument.getElementById('button').style.opacity = 1;\n\t}\n\tif(selection.type == 2 || selection.type == 3) {\n\t\tdocument.getElementById('squeeze_text').style.opacity = 1;\n\t} else {\n\t\tdocument.getElementById('squeeze_text').style.opacity = 0.2;\n\t}\n\tdocument.getElementById('clockwise_text').style.opacity = 1;\n\tif(selection.type == 4 && mirror) {\n\t\tdocument.getElementById('start_text').innerHTML = 'Start / end';\n\t\tdocument.getElementById('end_text').innerHTML = 'Half way';\n\t} else {\n\t\tdocument.getElementById('start_text').innerHTML = 'Start';\n\t\tdocument.getElementById('end_text').innerHTML = 'End';\n\t}\n\tdocument.getElementById('auto_text').style.opacity = 1;\n}\n\t\n// Handle form elements\ndocument.getElementById(\"start_width\").addEventListener(\"change\", e => {\n\tlet newVal =  Math.decimal(Math.abs(parseFloat(e.target.value)) ,2);\n\tif(isNaN(newVal)) newVal = start_val.w;\n\te.target.value = newVal;\n\tlet link = document.getElementById(\"link_start\").className;\n\tif(link == 'linked') {\n\t\tif(start_val.w == 0 && start_val.h == 0) {\n\t\t\tstart_val.h = newVal;\n\t\t\tdocument.getElementById(\"start_height\").value = start_val.h;\n\t\t} else {\n\t\t\tlet f = start_val.w ? newVal / start_val.w : 1;\n\t\t\tstart_val.h = Math.decimal(start_val.h * f ,2);\n\t\t\tdocument.getElementById(\"start_height\").value = start_val.h;\n\t\t}\n\t}\n\tstart_val.w = newVal;\n\tif(auto && update) {\n\t\tspiralise();\n\t}\n\t\n});\ndocument.getElementById(\"start_height\").addEventListener(\"change\", e => {\n\tlet newVal =  Math.decimal(Math.abs(parseFloat(e.target.value)) ,2);\n\tif(isNaN(newVal)) newVal = start_val.h;\n\te.target.value = newVal;\n\tlet link = document.getElementById(\"link_start\").className;\n\tif(link == 'linked') {\n\t\tif(start_val.w == 0 && start_val.h == 0) {\n\t\t\tstart_val.w = newVal;\n\t\t\tdocument.getElementById(\"start_width\").value = start_val.w;\n\t\t} else {\n\t\t\tlet f = start_val.h ? newVal / start_val.h : 1;\n\t\t\tstart_val.w = Math.decimal(start_val.w * f ,2);\n\t\t\tdocument.getElementById(\"start_width\").value = start_val.w;\n\t\t}\n\t}\n\tstart_val.h = newVal;\n\tif(auto && update) {\n\t\tspiralise();\n\t}\n\t\n});\ndocument.getElementById(\"start_rotation\").addEventListener(\"change\", e => {\n\tlet newVal = Math.abs((parseFloat(e.target.value)+360)%360);\n\tif(isNaN(newVal)) newVal = start_val.deg;\n\te.target.value = newVal;\n\tstart_val.deg = newVal;\n\tif(auto && update) {\n\t\tspiralise();\n\t}\n\t\n});\ndocument.getElementById(\"link_start_container\").addEventListener(\"click\", e => {\n\tif(document.getElementById(\"link_start\").getAttribute('disabled') != 'disabled') {\n\t\tlet link = document.getElementById(\"link_start\").className;\n\t\tif(link == 'linked') {\n\t\t\tdocument.getElementById(\"link_start\").className = 'unlinked';\n\t\t} else {\n\t\t\tdocument.getElementById(\"link_start\").className = 'linked';\n\t\t}\n\t}\n\t\n});\n// end\ndocument.getElementById(\"end_width\").addEventListener(\"change\", e => {\n\tlet newVal =  Math.decimal(Math.abs(parseFloat(e.target.value)) ,2);\n\tif(isNaN(newVal)) newVal = end_val.w;\n\te.target.value = newVal;\n\tlet link = document.getElementById(\"link_end\").className;\n\tif(link == 'linked') {\n\t\tif(end_val.w == 0 && end_val.h == 0) {\n\t\t\tend_val.h = newVal;\n\t\t\tdocument.getElementById(\"end_height\").value = end_val.h;\n\t\t} else {\n\t\t\tlet f = end_val.w ? newVal / end_val.w : 1;\n\t\t\tend_val.h = Math.decimal(end_val.h * f ,2);\n\t\t\tdocument.getElementById(\"end_height\").value = end_val.h;\n\t\t}\n\t}\n\tend_val.w = newVal;\n\tif(auto && update) {\n\t\tspiralise();\n\t}\n\t\n});\ndocument.getElementById(\"end_height\").addEventListener(\"change\", e => {\n\tlet newVal =  Math.decimal(Math.abs(parseFloat(e.target.value)) ,2);\n\tif(isNaN(newVal)) newVal = end_val.h;\n\te.target.value = newVal;\n\tlet link = document.getElementById(\"link_end\").className;\n\tif(link == 'linked') {\n\t\tif(end_val.w == 0 && end_val.h == 0) {\n\t\t\tend_val.w = newVal;\n\t\t\tdocument.getElementById(\"end_width\").value = end_val.w;\n\t\t} else {\n\t\t\tlet f = end_val.h ? newVal / end_val.h : 1;\n\t\t\tend_val.w = Math.decimal(end_val.w * f ,2);\n\t\t\tdocument.getElementById(\"end_width\").value = end_val.w;\n\t\t}\n\t}\n\tend_val.h = newVal;\n\tif(auto && update) {\n\t\tspiralise();\n\t}\n\t\n});\ndocument.getElementById(\"end_rotation\").addEventListener(\"change\", e => {\n\tlet newVal = Math.decimal(Math.abs((parseFloat(e.target.value)+360)%360) ,2);\n\tif(isNaN(newVal)) newVal = end_val.deg;\n\te.target.value = newVal;\n\tend_val.deg = newVal;\n\tif(auto && update) {\n\t\tspiralise();\n\t}\n\t\n});\ndocument.getElementById(\"link_end_container\").addEventListener(\"click\", e => {\n\tif(document.getElementById(\"link_end\").getAttribute('disabled') != 'disabled') {\n\t\tlet link = document.getElementById(\"link_end\").className;\n\t\tif(link == 'linked') {\n\t\t\tdocument.getElementById(\"link_end\").className = 'unlinked';\n\t\t} else {\n\t\t\tdocument.getElementById(\"link_end\").className = 'linked';\n\t\t}\n\t}\n\t\n});\ndocument.getElementById(\"loops\").addEventListener(\"change\", e => {\n\tlet newVal = Math.decimal(Math.abs(parseFloat(e.target.value)), 2);\n\tif(isNaN(newVal)) newVal = loops;\n\tif(newVal > 250) newVal = 250; // max 250 loops\n\tif(newVal <= 0.25) newVal = 0.25;\n\tloops = newVal;\n\te.target.value = loops;\n\tif(auto && update) {\n\t\tspiralise();\n\t}\n\t\n});\ndocument.getElementById(\"points\").addEventListener(\"change\", e => {\n\tlet newVal = Math.abs(Math.round(parseFloat(e.target.value)));\n\tif(isNaN(newVal)) newVal = points;\n\tif(newVal > 250) newVal = 250; // max 250 tangents\n\tif(newVal < 2) newVal = 2;\n\tpoints = newVal;\n\te.target.value = points;\n\tif(auto && update) {\n\t\tspiralise();\n\t}\n\t\n});\ndocument.getElementById(\"timing\").addEventListener(\"change\", e => {\n\ttiming = e.target.value;\n\tallOn();\n\tif(auto && update) {\n\t\tspiralise();\n\t}\n\t\n});\ndocument.getElementById(\"mirror\").addEventListener(\"change\", e => {\n\tif(selection.type == 4) {\n\t\tswitchStart();\n\t\tdocument.getElementById('start_width').value = Math.decimal(start_val.w, 2);\n\t\tdocument.getElementById('start_height').value = Math.decimal(start_val.h, 2);\n\t\tdocument.getElementById('start_rotation').value = Math.decimal(start_val.deg, 2);\n\t\tdocument.getElementById('end_width').value = Math.decimal(end_val.w, 2);\n\t\tdocument.getElementById('end_height').value = Math.decimal(end_val.h, 2);\n\t\tdocument.getElementById('end_rotation').value = Math.decimal(end_val.deg, 2);\n\t\tmirror = !mirror;\n\t\tallOn();\n\t\tif(auto && update) {\n\t\t\tspiralise();\n\t\t}\n\t}\n\t\n});\ndocument.getElementById(\"smooth\").addEventListener(\"change\", e => {\n\tlet newVal = Math.abs(Math.round(parseFloat(e.target.value)));\n\tif(isNaN(newVal)) newVal = smooth;\n\tif(newVal > 500) newVal = 500;\n\tif(newVal < 0) newVal = 0;\n\tsmooth = newVal;\n\te.target.value = smooth;\n\tif(auto && update) {\n\t\tspiralise();\n\t}\n\t\n});\ndocument.getElementById(\"power\").addEventListener(\"change\", e => {\n\tlet newVal = Math.abs(Math.round(parseFloat(e.target.value)));\n\tif(isNaN(newVal)) newVal = smooth;\n\tif(newVal > 100) newVal = 100;\n\tif(newVal < 0) newVal = 0;\n\tpower = newVal;\n\te.target.value = power;\n\tif(auto && update) {\n\t\tspiralise();\n\t}\n\t\n});\ndocument.getElementById(\"squeeze\").addEventListener(\"change\", e => {\n\tsqueeze = e.target.checked;\n\tif(squeeze && selection.type == 3) selection.type = 2;\n\tif(!squeeze && selection.type == 2) selection.type = 3;\n\tsetTypeText();\n\tallOn();\n\tif(auto && update) {\n\t\tspiralise();\n\t}\n\t\n});\ndocument.getElementById(\"clockwise\").addEventListener(\"change\", e => {\n\tclockwise = e.target.checked;\n\tif(auto && update) {\n\t\tspiralise();\n\t}\n\t\n});\n\ndocument.getElementById(\"auto\").addEventListener(\"change\", e => {\n\tauto = e.target.checked;\n\tallOn();\n\tif(auto && update) {\n\t\tspiralise();\n\t}\n});"],"sourceRoot":""}